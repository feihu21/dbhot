(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"2xS5":function(t,e,i){"use strict";i.r(e);i("tkto"),i("pNMO"),i("TeQF"),i("07d7"),i("5DmW"),i("FZtP"),i("27RR");var r=i("lSNA"),o=i.n(r),s=i("Aeqt"),n=i("3Fcl"),c=i("ygAv");function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function h(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach((function(e){o()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var l={name:"TearCorner",computed:{tear:function(){var t=this.activity.tearCorner,e=void 0===t?{}:t,i="120_120"===e.image_size,r=2*(i?120:100);return h(h({},e),{},{isBig:i,imgOffset:r})},activity:function(){return this.$store.state.activity},activityClosed:function(){return this.$store.state.activityClosed},isFixed:function(){return this.$store.state.searchFixed}},watch:{"$store.state.activityClosed.activity_skin":function(){this.checkShow()}},data:function(){return{show:!1,firstShow:!1}},mounted:function(){this.checkShow(),this.throttleResize=Object(n.throttle)(this.onResize),window.addEventListener("resize",this.throttleResize)},destroyed:function(){window.removeEventListener("resize",this.throttleResize)},methods:{checkShow:function(){var t=window.innerWidth||document.documentElement.clientWidth;t-s.default.pageWidth>this.tear.imgOffset&&(!this.activity.activitySkin||this.activityClosed.activity_skin||t>1570)&&this.activity.tearCorner&&!this.activityClosed.tearCorner?(this.show=!0,this.firstShow||(this.firstShow=!0,this.$report({p_action:"show",module:"活动广告",form:"首页撕角",icon:this.tear.tj}))):this.show=!1},onResize:function(){this.checkShow()},onClick:function(){this.$report({p_action:"click",module:"活动广告",form:"首页撕角",directerurl:this.tear.href,title:this.tear.title,icon:this.tear.tj})},onClose:function(){this.$report({p_action:"click",module:"活动广告",form:"首页撕角",title:"关闭按钮",icon:this.tear.tj});var t=c.default.formatDate(new Date,"Y-M-D");reLocalStorage.setItem(this.tear.storageName,t),this.$store.commit("SET_ACTIVITY_CLOSED","tearCorner")}}},u=i("KHd+"),f=Object(u.default)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.activity.tearCorner&&!t.activityClosed.tearCorner&&t.show?i("div",{staticClass:"comp-tear-corner",class:{"comp-tear-corner-big":t.tear.isBig,fixed:t.isFixed}},[i("a",{staticClass:"link",style:{"background-image":"url("+t.tear.img+")"},attrs:{href:t.tear.href,title:t.tear.title},on:{click:t.onClick}}),i("i",{staticClass:"close",on:{click:t.onClose}})]):t._e()}),[],!1,null,"503fc8b9",null);e.default=f.exports}}]);